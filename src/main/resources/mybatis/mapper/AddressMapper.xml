<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="work.darkforest.acowzon.mapper.AddressMapper">
    <!--查询所有的地址-->
    <select id="queryAll"  resultType="address">
        select *
        from address
    </select>

    <!--查询一个用户的所有地址-->
    <select id="queryAllByUserId" resultType="address">
        select *
        from address
        where user_id = #{id}
    </select>

    <!--根据Id查询一个地址-->
    <select id="queryAddressById" resultType="address">
        select *
        from address
        where address_id = #{id}
    </select>

    <!--插入一个新的地址-->
    <insert id="addAddress" parameterType="address">
        insert into address
        values(#{addressId}, #{userId}, #{receiverName}, #{receiverPhone}, #{addressCountry},
               #{addressProvince}, #{addressCity}, #{detail}, #{createTime}, #{updateTime})
    </insert>

    <!--修改一个地址的信息-->
    <update id="updateAddress" parameterType="address">
        update address
        set receiver_name = #{receiverName},
            receiver_phone = #{receiverPhone},
            address_country = #{addressCountry},
            address_province = #{addressProvince},
            address_city = #{addressCity},
            detail = #{detail},
            update_time = #{updateTime}
        where address_id = #{addressId}
    </update>

    <!--根据id删除一个地址-->
    <delete id="delAddressById">
        delete from address
        where address_id = #{id}
    </delete>

</mapper>